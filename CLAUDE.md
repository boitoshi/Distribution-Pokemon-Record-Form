# CLAUDE.md

このファイルは、このリポジトリでコードを扱う際にClaude Code (claude.ai/code)にガイダンスを提供します。

## プロジェクト概要

これは配信ポケモンデータ管理システムで、フロントエンドのWebフォームがGoogle Apps Scriptバックエンドにデータを送信し、Google スプレッドシートにレコードを保存します。

## アーキテクチャ

**フロントエンド**: Vanilla HTML/CSS/JavaScript（フレームワークやビルドプロセスなし）
**バックエンド**: Google Apps Script Webアプリ
**データベース**: Google スプレッドシート
**デプロイ**: 静的ホスティング（フロントエンド）+ GAS Webアプリ（バックエンド）

### 主要コンポーネント

- `/index.html` - ポケモンデータフィールドを含むメインフォーム
- `/script.js` - フロントエンドロジック、フォーム検証、API呼び出し
- `/style.css` - CSS変数を使用したレスポンシブスタイリング
- `/pokemon_data.json` - すべてのポケモン名と図鑑番号を含む静的データ
- `/GAS/Code.js` - バックエンド処理とGoogle スプレッドシート統合
- `/GAS/appsscript.json` - GASプロジェクト設定

## 開発ワークフロー

### ビルドプロセス不要
このプロジェクトはVanilla JavaScript/HTML/CSSを使用しており、コンパイル、バンドル、トランスパイルは不要です。ファイルを編集して静的に配信するだけです。

### テスト
テストフレームワークは設定されていません。手動テストは以下で行います：
1. ブラウザで`index.html`を開く
2. デプロイされたGASエンドポイントでフォーム送信をテスト
3. データがGoogle スプレッドシートに正しく表示されることを確認

### 設定
- `script.js`の`CONFIG.GAS_URL`をデプロイされたGoogle Apps Script WebアプリURLに更新する必要があります
- バックエンドのスプレッドシートIDは`GAS/Code.js`で設定されます

## データフロー

1. ユーザーがポケモン配信データでHTMLフォームを記入
2. フロントエンドJavaScriptがデータを検証してJSONとしてフォーマット
3. Google Apps ScriptエンドポイントにPOSTリクエストを送信
4. GASがJSONを処理してGoogle スプレッドシートに適切なヘッダーで保存
5. ユーザーが成功/エラーフィードバックを受信

## 主要機能

### 動的フォーム動作
- ポケモン名が選択されると図鑑番号が自動入力される
- 世代固有のフィールドが表示される（第8世代：キョダイマックス、第9世代：テラスタル）
- 選択された世代に基づいてゲーム選択チェックボックスが更新される
- 視覚的フィードバック付きのリアルタイムフォーム検証

### フォームデータ構造
フォームは以下の包括的なフィールドを取得します：
- 基本情報（管理ID、ポケモン名、世代）
- 配信詳細（イベント名、方法、場所、日付）
- ポケモンステータス（レベル、性別、特性、性格、技）
- 特殊機能（色違いステータス、リボン、世代固有属性）

### バックエンド処理
- 自動スプレッドシートヘッダー作成/検証
- エラーハンドリング付きJSON解析
- 適切な列マッピングによる構造化データ保存

## 一般的なタスク

### ローカル開発
1. ファイルを直接編集（ビルドステップ不要）
2. ローカルでファイルを配信：`python -m http.server 8000`など
3. デプロイされたバックエンドでフォーム機能をテスト

### デプロイ
1. **フロントエンド**: 任意の静的ホスティングサービスにデプロイ
2. **バックエンド**: Google Apps Scriptコンソールを通じてWebアプリとしてデプロイ
3. `script.js`の`CONFIG.GAS_URL`をデプロイされたバックエンドURLに更新

### GASバックエンドセットアップ
1. 新しいGoogle Apps Scriptプロジェクトを作成
2. `GAS/Code.js`と`GAS/appsscript.json`の内容をコピー
3. `initialize()`関数を実行してスプレッドシートヘッダーをセットアップ
4. 匿名アクセスでWebアプリとしてデプロイ
5. WebアプリURLでフロントエンド設定を更新

## コードスタイル

- UI及びコメント全体で日本語を使用
- JavaScript変数と関数はキャメルケース
- HTML要素IDはケバブケース
- CSSはテーマ用カスタムプロパティを使用
- リンティングやフォーマットツールは設定されていません